<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>核心交互模式 - Gemini-CLI 使用教程</title>
    <meta name="description" content="Gemini-CLI 核心交互模式详解：自然语言提示、@命令、!命令">
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/dark-theme.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap"
        rel="stylesheet">
</head>

<body>
    <!-- 顶部导航栏 -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <a href="../index.html">
                        <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M16 2L20 12L30 14L22 20L24 30L16 24L8 30L10 20L2 14L12 12L16 2Z"
                                fill="url(#gemini-gradient)" />
                            <defs>
                                <linearGradient id="gemini-gradient" x1="2" y1="2" x2="30" y2="30"
                                    gradientUnits="userSpaceOnUse">
                                    <stop stop-color="#4285F4" />
                                    <stop offset="1" stop-color="#34A853" />
                                </linearGradient>
                            </defs>
                        </svg>
                        <span class="logo-text">Gemini-CLI</span>
                    </a>
                </div>
                <div class="search-box">
                    <input type="text" placeholder="搜索文档..." aria-label="搜索文档">
                    <button class="search-button" aria-label="搜索">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z"
                                stroke="#e4e4e4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </button>
                </div>
                <nav class="nav-links">
                    <a href="https://github.com/google-gemini/gemini-cli" target="_blank" rel="noopener noreferrer"
                        aria-label="GitHub">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M12 0C5.37 0 0 5.37 0 12C0 17.31 3.435 21.795 8.205 23.385C8.805 23.49 9.03 23.13 9.03 22.815C9.03 22.53 9.015 21.585 9.015 20.58C6 21.135 5.22 19.845 4.98 19.17C4.845 18.825 4.26 17.76 3.75 17.475C3.33 17.25 2.73 16.695 3.735 16.68C4.68 16.665 5.355 17.55 5.58 17.91C6.66 19.725 8.385 19.215 9.075 18.9C9.18 18.12 9.495 17.595 9.84 17.295C7.17 16.995 4.38 15.96 4.38 11.37C4.38 10.065 4.845 8.985 5.61 8.145C5.49 7.845 5.07 6.615 5.73 4.965C5.73 4.965 6.735 4.65 9.03 6.195C10.005 5.925 11.01 5.79 12.015 5.79C13.02 5.79 14.025 5.925 15.000 6.195C17.295 4.65 18.3 4.965 18.3 4.965C18.96 6.615 18.54 7.845 18.42 8.145C19.185 8.985 19.65 10.05 19.65 11.37C19.65 15.975 16.845 16.995 14.16 17.295C14.595 17.67 14.97 18.39 14.97 19.515C14.97 21.12 14.955 22.41 14.955 22.815C14.955 23.13 15.18 23.505 15.795 23.385C20.565 21.795 24 17.31 24 12C24 5.37 18.63 0 12 0Z"
                                fill="#e4e4e4" />
                        </svg>
                    </a>
                </nav>
                <button class="menu-toggle" aria-label="打开菜单" aria-expanded="false">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <div class="container main-container">
        <!-- 左侧导航栏 -->
        <aside class="sidebar">
            <nav class="sidebar-nav">
                <ul class="nav-list">
                    <li class="nav-item">
                        <a href="../index.html" class="nav-link">首页</a>
                    </li>
                    <li class="nav-item">
                        <a href="getting-started.html" class="nav-link">入门指南</a>
                    </li>
                    <li class="nav-item">
                        <a href="core-interactions.html" class="nav-link active">核心交互模式</a>
                    </li>
                    <li class="nav-item has-children">
                        <a href="slash-commands.html" class="nav-link">斜杠命令详解</a>
                        <ul class="sub-nav">
                            <li class="sub-nav-item"><a href="slash-commands.html#session"
                                    class="sub-nav-link">会话与历史管理</a></li>
                            <li class="sub-nav-item"><a href="slash-commands.html#context"
                                    class="sub-nav-link">上下文与记忆管理</a></li>
                            <li class="sub-nav-item"><a href="slash-commands.html#tools" class="sub-nav-link">工具与集成</a>
                            </li>
                            <li class="sub-nav-item"><a href="slash-commands.html#config" class="sub-nav-link">配置与信息</a>
                            </li>
                            <li class="sub-nav-item"><a href="slash-commands.html#modes"
                                    class="sub-nav-link">特殊模式与切换</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a href="advanced-tips.html" class="nav-link">高级技巧</a>
                    </li>
                    <li class="nav-item">
                        <a href="customization.html" class="nav-link">深度自定义</a>
                    </li>
                    <li class="nav-item">
                        <a href="faq.html" class="nav-link">常见问题</a>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- 主内容区 -->
        <main class="content">
            <h1>第二部分：核心交互模式</h1>

            <p>在深入了解具体的 / 命令之前，您需要掌握与 Gemini-CLI 交互的三种基本方式：</p>

            <section id="natural-language">
                <h2>自然语言提示 (Natural Language Prompts)</h2>
                <p>这是最基础的交互方式。直接输入您的问题或指令，就像聊天一样。</p>

                <div class="code-block-terminal">
                    <div class="code-block-header">
                        <div class="terminal-dots">
                            <span class="terminal-dot close"></span>
                            <span class="terminal-dot minimize"></span>
                            <span class="terminal-dot maximize"></span>
                        </div>
                        <div class="terminal-title">terminal</div>
                    </div>
                    <pre><code>请帮我用 Python 写一个快速排序算法。</code></pre>
                    <button class="copy-button" aria-label="复制代码">Copy</button>
                </div>

                <p>Gemini-CLI 会理解您的自然语言请求，并生成相应的响应。</p>
            </section>

            <section id="at-command">
                <h2>@ 命令：文件/目录上下文注入</h2>
                <p>使用 @ 符号，可以将本地文件或整个目录的内容作为上下文提供给 Gemini。这是其理解项目背景的关键。</p>

                <div class="code-block-terminal">
                    <div class="code-block-header">
                        <div class="terminal-dots">
                            <span class="terminal-dot close"></span>
                            <span class="terminal-dot minimize"></span>
                            <span class="terminal-dot maximize"></span>
                        </div>
                        <div class="terminal-title">terminal</div>
                    </div>
                    <pre><code>请根据 @./src/utils.js 文件中的代码风格，为这个新函数添加注释。</code></pre>
                    <button class="copy-button" aria-label="复制代码">Copy</button>
                </div>

                <p>通过 @ 命令，Gemini-CLI 可以直接读取和分析您的代码文件，从而提供更准确和相关的帮助。</p>

                <div class="info">
                    <p><strong>提示：</strong>使用 <code>/context show</code> 命令可以查看当前完整的上下文，包括通过 @ 命令注入的所有文件内容。</p>
                </div>
            </section>

            <section id="exclamation-command">
                <h2>! 命令：直接执行 Shell 命令</h2>
                <p>使用 ! 符号，可以直接在 CLI 内部执行任何终端命令，无需退出。</p>

                <div class="code-block-terminal">
                    <div class="code-block-header">
                        <div class="terminal-dots">
                            <span class="terminal-dot close"></span>
                            <span class="terminal-dot minimize"></span>
                            <span class="terminal-dot maximize"></span>
                        </div>
                        <div class="terminal-title">terminal</div>
                    </div>
                    <pre><code>!git status</code></pre>
                    <button class="copy-button" aria-label="复制代码">Copy</button>
                </div>

                <p>这使得您可以在与 Gemini-CLI 的对话中直接执行系统命令，实现无缝的工作流。</p>

                <div class="warning">
                    <p><strong>安全提醒：</strong>在执行敏感或破坏性命令时请务必小心。您可以在配置文件中禁用 shell 命令执行功能。</p>
                </div>
            </section>

            <section id="combined-example">
                <h2>组合使用示例</h2>
                <p>在实际使用中，这三种交互模式可以灵活组合，形成强大的工作流：</p>

                <div class="code-block-terminal">
                    <div class="code-block-header">
                        <div class="terminal-dots">
                            <span class="terminal-dot close"></span>
                            <span class="terminal-dot minimize"></span>
                            <span class="terminal-dot maximize"></span>
                        </div>
                        <div class="terminal-title">terminal</div>
                    </div>
                    <pre><code># 1. 使用 @ 命令注入文件
@./src/main.py

# 2. 使用自然语言提问
分析这段代码的性能瓶颈

# 3. 使用 ! 命令运行测试
!python -m pytest tests/

# 4. 根据测试结果继续提问
根据测试结果优化代码性能</code></pre>
                    <button class="copy-button" aria-label="复制代码">Copy</button>
                </div>
            </section>
        </main>

        <!-- 右侧目录导航 -->
        <aside class="toc">
            <div class="toc-content">
                <h3>目录</h3>
                <nav class="toc-nav">
                    <ul>
                        <li><a href="#natural-language">自然语言提示</a></li>
                        <li><a href="#at-command">@ 命令</a></li>
                        <li><a href="#exclamation-command">! 命令</a></li>
                        <li><a href="#combined-example">组合使用示例</a></li>
                    </ul>
                </nav>
            </div>
        </aside>
    </div>

    <!-- 快速参考面板 -->
    <div class="quick-reference-panel" id="quick-reference-panel">
        <div class="panel-header">
            <h3>斜杠命令速查</h3>
            <button class="close-panel" aria-label="关闭">&times;</button>
        </div>
        <div class="panel-content">
            <div class="command-search">
                <input type="text" placeholder="搜索命令..." aria-label="搜索命令">
            </div>
            <div class="command-categories">
                <div class="category">
                    <h4>会话与历史管理</h4>
                    <ul>
                        <li><code>/chat save <tag></code> - 保存当前完整的对话状态</li>
                        <li><code>/chat resume <tag></code> - 恢复一个之前保存的对话</li>
                        <li><code>/chat list</code> - 列出所有已保存的会话标签</li>
                        <li><code>/chat clear</code> - 清空当前对话的历史记录</li>
                    </ul>
                </div>
                <div class="category">
                    <h4>上下文与记忆管理</h4>
                    <ul>
                        <li><code>/memory show</code> - 显示当前所有已加载的 GEMINI.md 文件内容</li>
                        <li><code>/memory refresh</code> - 重新加载所有记忆文件</li>
                        <li><code>/memory add "<text>"</code> - 临时向当前会话的记忆中添加文本指令</li>
                    </ul>
                </div>
                <div class="category">
                    <h4>工具与集成</h4>
                    <ul>
                        <li><code>/tools</code> - 列出当前会话所有可用的工具及其状态</li>
                        <li><code>/extensions</code> - 列出当前活动的扩展</li>
                        <li><code>/init</code> - 分析当前项目并创建一个量身定制的 GEMINI.md 文件</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- 浮动按钮 -->
    <button class="floating-button" id="quick-reference-toggle" aria-label="打开命令速查">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M9 12H15M12 9V15M21 12C21 13.1819 20.7672 14.3522 20.3149 15.4442C19.8626 16.5361 19.1997 17.5282 18.364 18.364C17.5282 19.1997 16.5361 19.8626 15.4442 20.3149C14.3522 20.7672 13.1819 21 12 21C10.8181 21 9.64778 20.7672 8.55585 20.3149C7.46392 19.8626 6.47177 19.1997 5.63604 18.364C4.80031 17.5282 4.13738 16.5361 3.68508 15.4442C3.23279 14.3522 3 13.1819 3 12C3 9.61305 3.94821 7.32387 5.63604 5.63604C7.32387 3.94821 9.61305 3 12 3C14.3869 3 16.6761 3.94821 18.364 5.63604C20.0518 7.32387 21 9.61305 21 12Z"
                stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
    </button>

    <script src="../js/main.js"></script>
    <script src="../js/terminal.js"></script>
    <script src="../js/commands.js"></script>
</body>

</html>